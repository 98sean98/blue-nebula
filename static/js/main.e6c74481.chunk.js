(this.webpackJsonpwebsite=this.webpackJsonpwebsite||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(76),s=(n(87),n(33)),i=n(39),o="https://scraper-staging.herokuapp.com",l={main:o,auth:"".concat(o,"/auth"),graphql:"".concat(o,"/graphql")},u={isAuthenticated:!1,setIsAuthenticated:function(){}},j=Object(c.createContext)(u),b=function(){return Object(c.useContext)(j)},d=n(4),h=l.graphql,x={watchQuery:{fetchPolicy:"cache-and-network",errorPolicy:"ignore"},query:{fetchPolicy:"network-only",errorPolicy:"all"},mutate:{errorPolicy:"all"}},f=function(e){var t=e.children,n=Object(c.useState)(),a=Object(s.a)(n,2),r=a[0],o=a[1],l=b().isAuthenticated,u=Object(c.useMemo)((function(){var e;if(l)return null!==(e=localStorage.getItem("authorizationToken"))&&void 0!==e?e:void 0}),[l]);return Object(c.useEffect)((function(){var e="undefined"!==typeof u?{authorization:u}:void 0,t=Object(i.createHttpLink)({uri:h,credentials:"include",headers:e}),n=new i.InMemoryCache,c=new i.ApolloClient({cache:n,link:t,defaultOptions:x,headers:e});o(c),console.log("apollo client is loaded!")}),[u]),Object(d.jsx)(d.Fragment,{children:"undefined"!==typeof r?Object(d.jsx)(i.ApolloProvider,{client:r,children:t}):null})},O=n(22),p=n.n(O),m=n(29),F=n(32),v=n.n(F),g="".concat(l.auth,"/login"),y=function(){var e=Object(m.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post(g,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=("".concat(l.auth,"/logout"),"".concat(l.auth,"/isAuthenticated")),B=function(){var e=Object(m.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(w,{headers:{authorization:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(e){var t=e.children,n=Object(c.useState)(!1),a=Object(s.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("authorizationToken");null!==e&&B(e).then((function(){return i(!0)})).catch((function(){localStorage.removeItem("authorizationToken"),i(!1)}))}),[]),Object(d.jsx)(j.Provider,{value:{isAuthenticated:r,setIsAuthenticated:i},children:t})},A=n(37),C=n(9),k=n(11),D=n.p+"static/media/robot.c78c2b88.png",P=function(e){var t=Object.assign({},e);return Object(d.jsxs)("div",Object(k.a)(Object(k.a)({},t),{},{children:[Object(d.jsx)("img",{src:D,alt:"robot",className:"w-40 h-40"}),Object(d.jsxs)("div",{className:"mt-3 flex flex-col items-center",children:[Object(d.jsx)("h1",{className:"text-3xl",children:"Blue Nebula"}),Object(d.jsx)("h3",{className:"mt-2 text-xl",children:"Coming Soon"})]})]}))},S=function(){return Object(d.jsx)("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:Object(d.jsx)(P,{})})},I=n(121),E=n(46),T=n(47),z=function(e,t){return"".concat(e," ").concat(null!==t&&void 0!==t?t:"")},q=function(e){var t=e.labelText,n=e.labelProps,c=e.inputProps,a=Object(T.a)(e,["labelText","labelProps","inputProps"]);return Object(d.jsxs)("div",Object(k.a)(Object(k.a)({},a),{},{className:z("flex flex-col",null===a||void 0===a?void 0:a.className),children:[Object(d.jsx)("label",Object(k.a)(Object(k.a)({htmlFor:t},n),{},{children:t})),Object(d.jsx)("input",Object(k.a)({id:t},c))]}))},L=function(e){var t=e.handleSubmit,n=Object(T.a)(e,["handleSubmit"]),a=Object(c.useState)({username:"",password:""}),r=Object(s.a)(a,2),i=r[0],o=r[1],l=function(e){return function(t){return o((function(n){return Object(k.a)(Object(k.a)({},n),{},Object(E.a)({},e,t.target.value))}))}};return Object(d.jsxs)("form",Object(k.a)(Object(k.a)({},n),{},{className:z("flex flex-col",n.className),children:[[{label:"Username",key:"username"},{label:"Password",key:"password",props:{inputProps:{type:"password"}}}].map((function(e,t){var n=e.label,c=e.key,a=e.props;return Object(d.jsx)(q,Object(k.a)(Object(k.a)({labelText:n},a),{},{inputProps:Object(k.a)({className:"border border-gray-200 rounded p-1",value:i[c],onChange:l(c)},null===a||void 0===a?void 0:a.inputProps),className:z(0!==t?"mt-2":"",null===a||void 0===a?void 0:a.className)}),t)})),Object(d.jsx)("button",{className:"mt-4 btn btn-primary",onClick:function(e){e.preventDefault(),t(i)},type:"submit",children:"Login"})]}))},M=n(81),J=n.n(M),H=function(){var e=b().setIsAuthenticated,t=Object(C.f)(),n=function(){var n=Object(m.a)(p.a.mark((function n(c){var a;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y(c);case 3:a=n.sent,localStorage.setItem("authorizationToken",a),e(!0),t.replace("/"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),alert("An error occurred logging you in. Please try again.");case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:Object(d.jsxs)("div",{className:"w-full max-w-md p-4",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:D,alt:"robot",className:"w-28 h-28 mx-auto"}),Object(d.jsxs)("div",{className:"mt-2 flex justify-center items-center space-x-2",children:[Object(d.jsx)(I.a,{color:J.a.warning[500]}),Object(d.jsx)("p",{className:"font-semibold text-center",children:"Please login to use blue nebula services"})]})]}),Object(d.jsx)("div",{className:"mt-6",children:Object(d.jsx)(L,{handleSubmit:n})})]})})},Q=function(){return Object(d.jsxs)("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:[Object(d.jsx)("h1",{className:"text-3xl",children:"404 Not Found"}),Object(d.jsx)(A.b,{to:"/",className:"mt-4 text-primary-500 underline",children:"Back to home page"})]})},U=function(){return Object(d.jsx)(A.a,{children:Object(d.jsxs)(C.c,{children:[Object(d.jsx)(C.a,{exact:!0,path:"/auth",children:Object(d.jsx)(H,{})}),Object(d.jsx)(C.a,{exact:!0,path:"/",children:Object(d.jsx)(S,{})}),Object(d.jsx)(C.a,{children:Object(d.jsx)(Q,{})})]})})};var G=function(){return Object(d.jsx)(N,{children:Object(d.jsx)(f,{children:Object(d.jsx)(U,{})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};Object(r.render)(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(G,{})}),document.getElementById("root")),K()},81:function(e,t){e.exports={primary:{100:"#D6E4FF",200:"#ADC8FF",300:"#84A9FF",400:"#6690FF",500:"#3366FF",700:"#1939B7",800:"#102693",900:"#091A7A"},success:{100:"#CAFDD8",200:"#97FBBC",300:"#62F5A7",400:"#3BECA0",500:"#00E096",600:"#00C093",700:"#00A18B",800:"#00817D",900:"#00646B"},info:{100:"#CCF5FF",200:"#99E6FF",300:"#66D0FF",400:"#3FBAFF",500:"#0095FF",600:"#0073DB",700:"#0056B7",800:"#003C93",900:"#002B7A"},warning:{100:"#FFF6CD",200:"#FFEB9B",300:"#FFDD69",400:"#FFCF43",500:"#FFB805",600:"#DB9703",700:"#B77902",800:"#935D01",900:"#7A4900"},danger:{100:"#FFDCD8",200:"#FFB3B1",300:"#FF8A93",400:"#FF6D86",500:"#FF3D71",600:"#DB2C6C",700:"#B71E65",800:"#93135B",900:"#7A0B54"}}},87:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.e6c74481.chunk.js.map